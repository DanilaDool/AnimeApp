<div class="block">
  <div class="row">
    <div class="col-md-8">
      <div class="sidebar3">
        <div class="movie2">
          <div class="header-for-anime">
            <h3>Список Аниме</h3>
          </div>

          <div class="trip4"></div>

          <div class="content-item2">
            <% @animes.reverse.each do |anime| %>
              <div class="image-wrapper2" data-shikimori-id="<%= anime.shikimori_id %>">
                <a href="<%=anime_link_path(anime.shikimori_id)%>" onclick="reloadClickedPage(event, this)" >
                  <%= image_tag "https://shikimori.one/system/animes/original/#{anime.shikimori_id}.jpg", alt: "Название фильма", class: "current-image3" %>
                  <p class="title-for-showall-anime"><%= anime.title.gsub(/\[ТВ-(\d+)\]/, '\1').length > 15 ? "#{anime.title[0..14].gsub(/\[ТВ-(\d+)\]/, '\1')}..." : anime.title.gsub(/\[ТВ-(\d+)\]/, '\1') %></p>
                </a>
              </div>
            <% end %>
          </div>

        </div>
      </div>
    </div>

    <div class="col-md-4">
      <div class="filter-sidebar">
        <div class="filter-header">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-filter-right" viewBox="0 0 16 16">
            <path d="M14 10.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-7a.5.5 0 0 0 0 1h7a.5.5 0 0 0 .5-.5zm0-3a.5.5 0 0 0-.5-.5h-11a.5.5 0 0 0 0 1h11a.5.5 0 0 0 .5-.5z"/>
          </svg>
          <h3 style="font-size: 20px;">Фильтр</h3>
        </div>

        <div class="range-slider-container">
          <label>Выберите год выпуска</label>
          <p class="small-text-filter">Укажите пустое поле если не желвете искать по году</p>
          <div class="slider-inputs">
            <input type="number" id="selectedYear" min="1959" max="2024" onchange="updateYear(this.value)">
            <p style="display: inline; font-size: smaller;">1959</p>
            <p style="display: inline; margin-left: 212px; font-size: smaller;">2024</p>

            <input type="range" class="form-range" id="customRange1" min="1959" max="2024" oninput="updateSlider(this.value)">
          </div>
        </div>

        <div class="filter-dropdown">
          <div class="dropdown-button" style="font-size: 16px;">Жанры ▼</div>
          <div class="dropdown-content">
            <input type="checkbox" name="genre-option" value="option1"><p class="list-filter">Опция 1</p><br>
            <input type="checkbox" name="genre-option" value="option2"><p class="list-filter">Опция 2</p><br>
            <!-- Добавьте другие опции по мере необходимости -->
          </div>
        </div>


        <div class="filter-dropdown">
          <div class="dropdown-button" style="font-size: 16px;">Статус ▼</div>
          <div class="dropdown-content">
            <input type="checkbox" name="genre-option" value="option1"><p class="list-filter">Опция 1</p><br>
            <input type="checkbox" name="genre-option" value="option2"><p class="list-filter">Опция 2</p><br>
            <!-- Добавьте другие опции по мере необходимости -->
          </div>
        </div>

        <div class="filter-dropdown">
          <div class="dropdown-button" style="font-size: 16px;">Тип ▼</div>
          <div class="dropdown-content">
            <input type="checkbox" name="genre-option" value="option1"><p class="list-filter">Опция 1</p><br>
            <input type="checkbox" name="genre-option" value="option2"><p class="list-filter">Опция 2</p><br>
            <!-- Добавьте другие опции по мере необходимости -->
          </div>
        </div>

        <div class="filter-dropdown">
          <div class="dropdown-button" style="font-size: 16px;">Озвучка ▼</div>
          <div class="dropdown-content">
            <input type="checkbox" name="genre-option" value="option1"><p class="list-filter">Опция 1</p><br>
            <input type="checkbox" name="genre-option" value="option2"><p class="list-filter">Опция 2</p><br>
            <!-- Добавьте другие опции по мере необходимости -->
          </div>
        </div>

        <div class="filter-dropdown">
          <div class="dropdown-button" style="font-size: 16px;">Возрастное ограничение ▼</div>
          <div class="dropdown-content">
            <input type="checkbox" name="genre-option" value="option1"><p class="list-filter">Опция 1</p><br>
            <input type="checkbox" name="genre-option" value="option2"><p class="list-filter">Опция 2</p><br>
            <!-- Добавьте другие опции по мере необходимости -->
          </div>
        </div>

        <div class="filter-dropdown btn-filter">
          <button type="button" class="btn btn-secondary btn-filter-width">Найти</button>
        </div>

      </div>
    </div>

  </div>
</div>


<script>
    $(document).ready(function() {
        $('.dropdown-button').click(function() {
            $(this).siblings('.dropdown-content').toggle();
        });
    });

    function updateSlider(value) {
        document.getElementById('selectedYear').value = value;
    }

    function updateYear(value) {
        var currentYear = new Date().getFullYear();
        if (value >= 1959 && value <= currentYear) {
            document.getElementById('customRange1').value = value;
        }
    }
</script>